---
import BaseLayout from "../layouts/BaseLayout.astro";
import Section from "../components/ui/Section.astro";
import ArticleList from "../components/content/ArticleList.astro";
import ArtworkCarousel from "../components/content/ArtworkCarousel.astro";
import { getCollection } from "astro:content";

const base = import.meta.env.BASE_URL || "/";

const SAATCHI_PROFILE_URL = "https://www.saatchiart.com/en-au/solara-meridian-studio/";

// IMPORTANT: set this to your actual Redbubble store URL (keep it quiet + secondary).
const REDBUBBLE_PROFILE_URL = "https://www.redbubble.com/people/SamFrederiksen/shop";

const articles = (await getCollection("articles"))
  .sort((a, b) => (b.data.publishedAt as Date).getTime() - (a.data.publishedAt as Date).getTime())
  .slice(0, 3);

// Homepage featured works
// Your files exist at: public/images/art/origin-forms/origin-forms-01.jpg etc.
// On GitHub Pages project sites, use BASE_URL so it becomes /solara-meridian-studio/images/...
const featuredArtworks = [
  {
    id: "modern-heritage-01",
    data: {
      title: "Modern Heritage I",
      slug: "modern-heritage-i",
      thumbnail: `${base}images/art/christmas/christmas1.jpg`,
      saatchiUrl: REDBUBBLE_PROFILE_URL,
      alt: "Modern Heritage I — modern symbolic geometry with stone texture and quiet luxury tone",
    },
  },
  {
    id: "modern-heritage-02",
    data: {
      title: "Modern Heritage II",
      slug: "modern-heritage-ii",
      thumbnail: `${base}images/art/christmas/christmas2.jpg`,
      saatchiUrl: REDBUBBLE_PROFILE_URL,
      alt: "Modern Heritage II — clean emblem composition, marble tones, and timeless balance",
    },
  },
  {
    id: "modern-heritage-03",
    data: {
      title: "Modern Heritage III",
      slug: "modern-heritage-iii",
      thumbnail: `${base}images/art/christmas/christmas3.jpg`,
      saatchiUrl: REDBUBBLE_PROFILE_URL,
      alt: "Modern Heritage III — circular focal symbol with calm contrast and gold-vein accents",
    },
  },
];
---

<BaseLayout
  title="Solara Meridian Studio"
  description="A curated Redbubble studio focused on modern symbolic designs, stone textures, and timeless visual balance."
>
  <!-- HERO -->
  <section class="hero">
    <div class="container hero__inner">
      <div>
        <div class="hero__kicker">Solara Meridian Studio</div>
        <h1 class="hero__title">
          Solara Meridian Studio is a curated Redbubble shop featuring modern symbolic designs built around clean geometry,
          stone textures, and timeless visual balance. Each collection is designed for everyday products, thoughtful gifting,
          and long-term relevance.
        </h1>
        <p class="hero__subtitle">
          Calm, considered designs that feel intentional on walls, apparel, and daily-use products—never loud, never disposable.
        </p>

        <div class="hero__actions">
          <a class="btn btn--primary btn--block-mobile" href={`${base}art/`}>Explore the collection</a>
          <a class="btn btn--ghost btn--block-mobile" href={`${base}articles/`}>Read studio notes</a>
          <a class="btn btn--ghost btn--block-mobile" href={`${base}about/`}>About the studio</a>
        </div>

        <div class="hero__meta">
          Secure checkout, production, and global fulfilment are handled directly through Redbubble.
        </div>
      </div>

      <div class="hero__media">
        <div class="hero__media-inner">
          <div class="card">
            <div class="card__eyebrow">Featured evergreen collection</div>
            <div class="card__title">Modern Heritage</div>
            <p class="card__body">
              A permanent collection of modern symbolic designs focused on clean geometry, marble and stone textures,
              and quiet visual strength. Built to remain relevant year-round across everyday products and interior spaces.
            </p>
            <div class="mt-2">
              <a class="btn btn--subtle btn--block" href={`${base}art/`}>View featured works</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- WHY / BENEFITS -->
  <Section variant="alt">
    <div class="container">
      <div class="section__heading">
        <div class="section__eyebrow">Why these designs resonate</div>
        <h2 class="section__title">Consistency, restraint, and long-term relevance.</h2>
      </div>

      <div class="grid grid--3">
        <div class="card">
          <div class="card__title">Clear visual language</div>
          <p class="card__body">
            Each design follows a consistent symbolic and material language, so collections feel curated, not random.
          </p>
        </div>

        <div class="card">
          <div class="card__title">Designed for everyday use</div>
          <p class="card__body">
            Built to sit comfortably on walls, clothing, and daily-use items without visual fatigue—calm at a glance, rich up close.
          </p>
        </div>

        <div class="card">
          <div class="card__title">Simple, trusted purchase path</div>
          <p class="card__body">
            Clear presentation and straightforward purchasing through Redbubble—no competing routes, no confusion.
          </p>
        </div>
      </div>
    </div>
  </Section>

  <!-- FEATURED WORKS -->
  <Section>
    <div class="container">
      <div class="section__heading">
        <div class="section__eyebrow">Featured works</div>
        <h2 class="section__title">A selection from the Modern Heritage collection</h2>
      </div>

      <ArtworkCarousel artworks={featuredArtworks} label="Featured works from Modern Heritage" />

      <div class="mt-3 text-center">
        <a class="btn btn--primary btn--block-mobile" href={`${base}art/`}>Explore the full collection</a>
        <a class="btn btn--ghost btn--block-mobile" href={`${base}articles/`}>Read how collections are curated</a>
      </div>
    </div>
  </Section>

  <!-- ROUTING / STORES (PRIMARY + SOFT OVERFLOW) -->
  <Section variant="alt">
    <div class="container">
      <div class="cta">
        <div class="cta__eyebrow">Collect</div>
        <div class="cta__title">Explore designs and purchase securely through Redbubble.</div>
        <p class="cta__body">
          The art page presents all collections clearly. Redbubble manages secure checkout, production, and delivery worldwide.
        </p>

        <div class="mt-2">
          <a class="btn btn--primary btn--block-mobile" href={`${base}art/`}>Go to the art page</a>
          <a
            class="btn btn--ghost btn--block-mobile"
            href={REDBUBBLE_PROFILE_URL}
            target="_blank"
            rel="noopener noreferrer"
          >
            Open the Redbubble Shop
          </a>
        </div>

        <p class="cta__body" style="margin-top: 1rem; opacity: 0.75;">
          The studio also maintains a separate gallery-grade collection on{" "}
          <a href="https://www.saatchiart.com/en-au/solara-meridian-studio" target="_blank" rel="noopener noreferrer">
            Saatchi Art
          </a>
          , featuring distinct works created specifically for that context.
        </p>
      </div>
    </div>
  </Section>

  <!-- ARTICLES (SUPPORTING DISCOVERY LAYER) -->
  {articles.length > 0 && (
    <Section>
      <div class="container">
        <div class="section__heading">
          <div class="section__eyebrow">Studio notes</div>
          <h2 class="section__title">Notes on collections, materials, and intent.</h2>
        </div>

        <ArticleList articles={articles} />

        <div class="mt-3 text-center">
          <a class="btn btn--ghost btn--block-mobile" href={`${base}articles/`}>View all articles</a>
        </div>
      </div>
    </Section>
  )}
</BaseLayout>
